<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crypto Investment AI Expert</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 400px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(45deg, #f7971e, #ffd200);
        padding: 30px 20px;
        text-align: center;
        color: white;
      }

      .header h1 {
        font-size: 24px;
        margin-bottom: 5px;
      }

      .header p {
        opacity: 0.9;
        font-size: 14px;
      }

      .tabs {
        display: flex;
        background: #f8f9fa;
        border-bottom: 1px solid #e9ecef;
      }

      .tab {
        flex: 1;
        padding: 15px 10px;
        text-align: center;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 12px;
        color: #6c757d;
        transition: all 0.3s ease;
      }

      .tab.active {
        background: white;
        color: #007bff;
        border-bottom: 2px solid #007bff;
      }

      .content {
        padding: 20px;
        min-height: 400px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
      }

      input, select, textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      input:focus, select:focus, textarea:focus {
        outline: none;
        border-color: #007bff;
      }

      button {
        width: 100%;
        padding: 15px;
        background: linear-gradient(45deg, #007bff, #0056b3);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ease;
      }

      button:hover {
        transform: translateY(-2px);
      }

      button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .result {
        margin-top: 20px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid #28a745;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #6c757d;
      }

      .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #007bff;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      .news-item {
        padding: 15px;
        border-bottom: 1px solid #e9ecef;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .news-item:hover {
        background-color: #f8f9fa;
      }

      .news-item h3 {
        font-size: 14px;
        margin-bottom: 5px;
        color: #333;
      }

      .news-item p {
        font-size: 12px;
        color: #6c757d;
        line-height: 1.4;
      }

      .portfolio-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid #e9ecef;
      }

      .crypto-symbol {
        font-weight: bold;
        color: #333;
      }

      .crypto-price {
        color: #28a745;
        font-weight: 600;
      }

      .error {
        color: #dc3545;
        background: #f8d7da;
        padding: 15px;
        border-radius: 10px;
        border: 1px solid #f5c6cb;
        margin-top: 15px;
      }

      .top10-container {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        border: 2px solid #e9ecef;
      }

      .top10-container h3 {
        margin: 0 0 15px 0;
        color: #333;
        text-align: center;
        font-size: 18px;
      }

      .customize-section {
        text-align: center;
        margin-bottom: 20px;
      }

      .customize-button {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 12px 30px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
      }

      .customize-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
      }

      .customization-form {
        background: #ffffff;
        border: 2px solid #e9ecef;
        border-radius: 15px;
        padding: 25px;
        margin-top: 15px;
        animation: slideDown 0.3s ease-out;
      }

      .customization-form h4 {
        margin: 0 0 20px 0;
        color: #333;
        text-align: center;
        font-size: 16px;
      }

      .form-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .form-actions button {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      #apply-customization {
        background: linear-gradient(45deg, #007bff, #0056b3);
        color: white;
      }

      #cancel-customization {
        background: #6c757d;
        color: white;
      }

      .form-actions button:hover {
        transform: translateY(-1px);
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .result-card {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.1);
      }

      .result-card h3 {
        color: #fff;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .analysis-text {
        color: #e0e0e0;
        line-height: 1.6;
        white-space: pre-wrap;
        font-size: 0.95rem;
      }

      .strategy-item {
        background: #ffffff;
        border: 2px solid #e9ecef;
        border-radius: 12px;
        padding: 18px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
      }

      .strategy-item:hover {
        border-color: #007bff;
        box-shadow: 0 4px 12px rgba(0,123,255,0.15);
        transform: translateY(-2px);
      }

      .strategy-header {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
      }

      .strategy-number {
        background: linear-gradient(45deg, #007bff, #0056b3);
        color: white;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 16px;
        margin-right: 15px;
        flex-shrink: 0;
      }

      .strategy-title {
        font-size: 18px;
        font-weight: 700;
        color: #333;
        margin: 0;
        flex: 1;
      }

      .strategy-metrics {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 12px;
      }

      .metric-item {
        display: flex;
        align-items: center;
        font-size: 13px;
        color: #6c757d;
      }

      .metric-item strong {
        color: #333;
        margin-left: 4px;
      }

      .strategy-description {
        color: #555;
        line-height: 1.5;
        margin-bottom: 10px;
        font-size: 14px;
      }

      .strategy-targets {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #f8f9fa;
        padding: 10px 12px;
        border-radius: 8px;
        margin-top: 10px;
      }

      .target-item {
        text-align: center;
        flex: 1;
      }

      .target-label {
        font-size: 11px;
        color: #6c757d;
        margin-bottom: 2px;
      }

      .target-value {
        font-size: 13px;
        font-weight: 600;
        color: #333;
      }

      .risk-low { border-left: 4px solid #28a745; }
      .risk-medium { border-left: 4px solid #ffc107; }
      .risk-high { border-left: 4px solid #fd7e14; }
      .risk-very-high { border-left: 4px solid #dc3545; }

      .modern-strategy-container {
        background: #ffffff;
        border: 2px solid #e9ecef;
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 16px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .modern-strategy-container:hover {
        border-color: #007bff;
        box-shadow: 0 6px 20px rgba(0,123,255,0.15);
        transform: translateY(-3px);
      }

      .modern-strategy-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 6px;
        height: 100%;
        background: var(--border-color);
      }

      .modern-strategy-container.risk-low::before { background: #28a745; }
      .modern-strategy-container.risk-medium::before { background: #ffc107; }
      .modern-strategy-container.risk-high::before { background: #fd7e14; }
      .modern-strategy-container.risk-very-high::before { background: #dc3545; }

      .strategy-number-badge {
        display: inline-block;
        font-size: 20px;
        font-weight: 700;
        color: #333;
        margin-bottom: 12px;
      }

      .strategy-content {
        padding-left: 0;
      }

      .strategy-title-modern {
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin: 0 0 12px 0;
        line-height: 1.3;
      }

      .strategy-metrics-row {
        display: flex;
        gap: 12px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }

      .metric-badge {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 20px;
        padding: 6px 12px;
        font-size: 12px;
        font-weight: 500;
        color: #495057;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .metric-badge.success {
        background: #d4edda;
        border-color: #c3e6cb;
        color: #155724;
      }

      .metric-badge.risk {
        background: #fff3cd;
        border-color: #ffeaa7;
        color: #856404;
      }

      .strategy-description-modern {
        color: #495057;
        line-height: 1.5;
        margin-bottom: 14px;
        font-size: 14px;
        background: #f8f9fa;
        padding: 12px;
        border-radius: 8px;
        border-left: 3px solid #dee2e6;
      }

      .strategy-footer-metrics {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #f8f9fa;
        padding: 10px 12px;
        border-radius: 8px;
        margin-top: 12px;
      }

      .footer-metric {
        font-size: 12px;
        color: #6c757d;
        text-align: center;
        flex: 1;
      }

      .footer-metric strong {
        color: #333;
        font-weight: 600;
        display: block;
        margin-top: 2px;
      }

      .disclaimer-container {
        background: #f8d7da;
        border: 1px solid #f5c6cb;
        border-radius: 12px;
        padding: 16px;
        margin-top: 20px;
        font-size: 13px;
        color: #721c24;
      }

      .individual-strategy-container {
        background: #2c3e50;
        border: 2px solid #34495e;
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 16px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: flex-start;
        gap: 16px;
      }

      .individual-strategy-container:hover {
        border-color: #3498db;
        box-shadow: 0 6px 25px rgba(52,152,219,0.4);
        transform: translateY(-3px);
        background: #34495e;
      }

      .individual-strategy-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 6px;
        height: 100%;
        background: var(--border-color);
      }

      .individual-strategy-container.risk-low::before { background: #27ae60; }
      .individual-strategy-container.risk-medium::before { background: #f39c12; }
      .individual-strategy-container.risk-high::before { background: #e67e22; }
      .individual-strategy-container.risk-very-high::before { background: #e74c3c; }

      .strategy-number-circle {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        border-radius: 50%;
        width: 45px;
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 18px;
        flex-shrink: 0;
        box-shadow: 0 3px 10px rgba(52,152,219,0.4);
      }

      .strategy-content-dark {
        flex: 1;
        color: #ecf0f1;
      }

      .strategy-title-dark {
        font-size: 18px;
        font-weight: 700;
        color: #ecf0f1;
        margin: 0 0 14px 0;
        line-height: 1.3;
      }

      .strategy-metrics-dark {
        display: flex;
        gap: 12px;
        margin-bottom: 14px;
        flex-wrap: wrap;
      }

      .metric-badge-dark {
        background: #34495e;
        border: 1px solid #4a6741;
        border-radius: 20px;
        padding: 6px 12px;
        font-size: 12px;
        font-weight: 500;
        color: #bdc3c7;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .metric-badge-dark.success {
        background: #27ae60;
        border-color: #2ecc71;
        color: white;
      }

      .metric-badge-dark.risk {
        background: #e67e22;
        border-color: #f39c12;
        color: white;
      }

      .strategy-description-dark {
        color: #bdc3c7;
        line-height: 1.5;
        margin-bottom: 16px;
        font-size: 14px;
        background: #34495e;
        padding: 12px;
        border-radius: 8px;
        border-left: 3px solid #3498db;
      }

      .strategy-description-dark strong {
        color: #ecf0f1;
      }

      .strategy-footer-dark {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #34495e;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #4a6741;
      }

      .footer-metric-dark {
        font-size: 12px;
        color: #95a5a6;
        text-align: center;
        flex: 1;
      }

      .footer-metric-dark strong {
        color: #ecf0f1;
        font-weight: 600;
        display: block;
        margin-top: 2px;
        font-size: 13px;
      }

      .crypto-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        margin-top: 20px;
      }

      .crypto-card {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-radius: 15px;
        padding: 25px;
        border: 1px solid rgba(255,255,255,0.1);
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .crypto-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0,0,0,0.4);
      }

      .crypto-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
      }

      .crypto-rank {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: bold;
        font-size: 1.2rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }

      .crypto-info {
        flex: 1;
      }

      .crypto-info h4 {
        color: #fff;
        margin: 0 0 5px 0;
        font-size: 1.3rem;
      }

      .crypto-price {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .price {
        color: #4CAF50;
        font-weight: bold;
        font-size: 1.1rem;
      }

      .change {
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.9rem;
        font-weight: bold;
      }

      .change.positive {
        background: rgba(76, 175, 80, 0.2);
        color: #4CAF50;
      }

      .change.negative {
        background: rgba(244, 67, 54, 0.2);
        color: #f44336;
      }

      .market-cap {
        color: #bbb;
        font-size: 0.9rem;
      }

      .crypto-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
        padding: 15px;
        background: rgba(255,255,255,0.05);
        border-radius: 10px;
      }

      .metric {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .metric-label {
        color: #ccc;
        font-size: 0.9rem;
      }

      .metric-value {
        color: #fff;
        font-weight: bold;
      }

      .metric-value.positive {
        color: #4CAF50;
      }

      .metric-value.negative {
        color: #f44336;
      }

      .risk-badge {
        padding: 3px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: bold;
      }

      .risk-badge.green {
        background: rgba(76, 175, 80, 0.2);
        color: #4CAF50;
      }

      .risk-badge.yellow {
        background: rgba(255, 193, 7, 0.2);
        color: #FFC107;
      }

      .risk-badge.red {
        background: rgba(244, 67, 54, 0.2);
        color: #f44336;
      }

      .crypto-analysis {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .analysis-section {
        padding: 15px;
        background: rgba(255,255,255,0.03);
        border-radius: 8px;
        border-left: 3px solid #667eea;
      }

      .analysis-section h5 {
        color: #fff;
        margin: 0 0 8px 0;
        font-size: 1rem;
      }

      .analysis-section p {
        color: #ddd;
        margin: 0;
        line-height: 1.5;
        font-size: 0.9rem;
      }

      .disclaimer {
        margin-top: 30px;
        padding: 20px;
        background: rgba(255, 193, 7, 0.1);
        border-radius: 10px;
        border: 1px solid rgba(255, 193, 7, 0.3);
      }

      .disclaimer p {
        color: #FFC107;
        margin: 0;
        font-size: 0.9rem;
        line-height: 1.5;
      }

      @media (max-width: 768px) {
        .crypto-header {
          flex-direction: column;
          text-align: center;
          gap: 10px;
        }

        .crypto-metrics {
          grid-template-columns: 1fr;
        }

        .metric {
          flex-direction: column;
          gap: 5px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üöÄ Crypto AI Expert</h1>
        <p>Smart investment insights powered by AI</p>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="showTab('ai')">ü§ñ AI Expert</button>
        <button class="tab" onclick="showTab('portfolio')">üí∞ Portfolio</button>
        <button class="tab" onclick="showTab('news')">üì∞ News</button>
      </div>

      <div class="content">
        <!-- AI Expert Tab -->
        <div id="ai-tab" class="tab-content">
          <!-- Top 10 Container at the top -->
        <div class="top10-container">
          <h3>üéØ Top 10 AI Cryptocurrency Investment Opportunities</h3>
          <div id="result-container"></div>
        </div>

          <!-- Customize Button -->
          <div class="customize-section">
            <button type="button" id="customize-btn" class="customize-button">
              ‚öôÔ∏è Customize Investment Risks
            </button>
          </div>

          <!-- Hidden Customization Form -->
          <div id="customization-form" class="customization-form" style="display: none;">
            <h4>üìä Customize Your Investment Profile</h4>

            <div class="form-group">
              <label for="risk-tolerance">Risk Tolerance</label>
              <select id="risk-tolerance" required>
                <option value="">Select your risk level</option>
                <option value="conservative">Conservative</option>
                <option value="moderate">Moderate</option>
                <option value="aggressive">Aggressive</option>
              </select>
            </div>

            <div class="form-group">
              <label for="investment-amount">Investment Amount ($)</label>
              <input type="number" id="investment-amount" placeholder="Enter amount" min="1" required>
            </div>

            <div class="form-group">
              <label for="time-horizon">Investment Time Horizon</label>
              <select id="time-horizon" required>
                <option value="">Select time frame</option>
                <option value="short">Short-term (< 1 year)</option>
                <option value="medium">Medium-term (1-3 years)</option>
                <option value="long">Long-term (3+ years)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="experience">Crypto Experience</label>
              <select id="experience" required>
                <option value="">Select your experience</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
              </select>
            </div>

            <div class="form-actions">
              <button type="button" id="apply-customization">üöÄ Apply Custom Settings</button>
              <button type="button" id="cancel-customization">‚ùå Cancel</button>
            </div>
          </div>
        </div>

        <!-- Portfolio Tab -->
        <div id="portfolio-tab" class="tab-content" style="display: none;">
          <div id="portfolio-content">
            <div class="portfolio-item">
              <div>
                <div class="crypto-symbol">BTC</div>
                <div>Bitcoin</div>
              </div>
              <div class="crypto-price">$43,250</div>
            </div>            <div class="portfolio-item">
              <div>
                <div class="crypto-symbol">ETH</div>
                <div>Ethereum</div>
              </div>
              <div class="crypto-price">$2,580</div>
            </div>
            <div class="portfolio-item">
              <div>
                <div class="crypto-symbol">ADA</div>
                <div>Cardano</div>
              </div>
              <div class="crypto-price">$0.52</div>
            </div>
          </div>
        </div>

        <!-- News Tab -->
        <div id="news-tab" class="tab-content" style="display: none;">
          <div id="news-content">
            <div class="news-item">
              <h3>Bitcoin Reaches New All-Time High</h3>
              <p>Bitcoin surpassed $43,000 as institutional adoption continues to grow...</p>
            </div>
            <div class="news-item">
              <h3>Ethereum 2.0 Staking Rewards Increase</h3>
              <p>The latest network upgrade brings enhanced staking rewards for validators...</p>
            </div>
            <div class="news-item">
              <h3>DeFi Market Shows Strong Growth</h3>
              <p>Decentralized finance protocols see increased total value locked...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Cache for faster subsequent loads
      let cachedTop10Data = null;
      const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes
      let cacheTimestamp = null;

      // Auto-load top 10 strategies when page loads
      document.addEventListener('DOMContentLoaded', function() {
        loadTop10StrategiesFast();
      });

      // Tab switching functionality
      function showTab(tabName) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.style.display = 'none';
        });

        // Remove active class from all tabs
        document.querySelectorAll('.tab').forEach(tab => {
          tab.classList.remove('active');
        });

        // Show selected tab content
        document.getElementById(tabName + '-tab').style.display = 'block';

        // Add active class to clicked tab
        event.target.classList.add('active');
      }

      // Fast loading with cached data
      async function loadTop10StrategiesFast() {
        const resultContainer = document.getElementById('result-container');

        // Check cache first
        if (cachedTop10Data && cacheTimestamp && (Date.now() - cacheTimestamp < CACHE_DURATION)) {
          displayCryptoData(cachedTop10Data, resultContainer);
          return;
        }

        // Show instant data while loading fresh data in background
        const fastCryptoData = getFastCryptoData();
        displayCryptoData(fastCryptoData, resultContainer);

        // Load fresh data in background
        loadFreshDataInBackground();
      }

      // Instant load with current market data
      function getFastCryptoData() {
        return [
              {
            rank: 1,
            name: "Bitcoin",
            symbol: "BTC",
            currentPrice: "$43,250",
            change24h: "+2.3%",
            marketCap: "#1",
            performance90d: "+15.2%",
            riskLevel: "Low",
            riskColor: "green",
            growthPotential: "20-30%",
            allocation: "25-30%",
            overview: "Leading cryptocurrency and digital store of value with strong institutional adoption",
            keyMetrics: "High institutional adoption, limited supply of 21M coins",
            marketOutlook: "Positive sentiment with ETF approvals and institutional interest",
            strategy: "Dollar-cost averaging approach with long-term hold strategy",
            catalysts: "Spot ETF approvals, institutional adoption, halving event"
          },
                {
                  rank: 2,
                  name: "Ethereum",
                  symbol: "ETH",
                  currentPrice: "$2,650",
                  change24h: "+1.8%",
                  marketCap: "#2",
                  performance90d: "+22.1%",
                  riskLevel: "Medium",
                  riskColor: "yellow",
                  growthPotential: "25-40%",
                  allocation: "20-25%",
                  overview: "Smart contract platform powering DeFi and NFT ecosystems",
                  keyMetrics: "Strong developer activity, DeFi TVL leader",
                  marketOutlook: "Bullish on Layer 2 scaling and staking rewards",
                  strategy: "Long-term accumulation with staking for passive income",
                  catalysts: "Layer 2 adoption, institutional staking, ETF potential"
                },
                {
                  rank: 3,
                  name: "Solana",
                  symbol: "SOL",
                  currentPrice: "$98",
                  change24h: "+4.2%",
                  marketCap: "#5",
                  performance90d: "+45.8%",
                  riskLevel: "High",
                  riskColor: "red",
                  growthPotential: "40-70%",
                  allocation: "10-15%",
                  overview: "High-performance blockchain with fast transactions and low fees",
                  keyMetrics: "Growing DeFi ecosystem, mobile integration",
                  marketOutlook: "Recovery from FTX impact, strong technical development",
                  strategy: "Growth investment with higher risk tolerance",
                  catalysts: "Mobile phone adoption, DeFi growth, institutional interest"
                },
                {
                  rank: 4,
                  name: "Binance Coin",
                  symbol: "BNB",
                  currentPrice: "$310",
                  change24h: "+0.9%",
                  marketCap: "#4",
                  performance90d: "+8.7%",
                  riskLevel: "Medium",
                  riskColor: "yellow",
                  growthPotential: "15-25%",
                  allocation: "5-10%",
                  overview: "Utility token for the world's largest cryptocurrency exchange",
                  keyMetrics: "Deflationary tokenomics, exchange utility",
                  marketOutlook: "Stable utility value, regulatory challenges",
                  strategy: "Conservative allocation for exchange utility",
                  catalysts: "Exchange growth, regulatory clarity, burn mechanics"
                },
                {
                  rank: 5,
                  name: "Cardano",
                  symbol: "ADA",
                  currentPrice: "$0.45",
                  change24h: "+3.1%",
                  marketCap: "#8",
                  performance90d: "+12.3%",
                  riskLevel: "Medium",
                  riskColor: "yellow",
                  growthPotential: "30-50%",
                  allocation: "5-10%",
                  overview: "Research-driven blockchain with peer-reviewed development",
                  keyMetrics: "Strong academic foundation, sustainable development",
                  marketOutlook: "Steady development progress, ecosystem growth",
                  strategy: "Long-term development play with patience required",
                  catalysts: "DeFi ecosystem expansion, governance features"
                },
                {
                  rank: 6,
                  name: "Polygon",
                  symbol: "MATIC",
                  currentPrice: "$0.85",
                  change24h: "+2.7%",
                  marketCap: "#13",
                  performance90d: "+18.9%",
                  riskLevel: "Medium",
                  riskColor: "yellow",
                  growthPotential: "35-60%",
                  allocation: "5-10%",
                  overview: "Ethereum scaling solution with major enterprise partnerships",
                  keyMetrics: "Strong partnerships, scaling efficiency",
                  marketOutlook: "Benefiting from Ethereum scaling needs",
                  strategy: "Infrastructure play on Ethereum's growth",
                  catalysts: "Enterprise adoption, zero-knowledge technology"
                },
                {
                  rank: 7,
                  name: "Chainlink",
                  symbol: "LINK",
                  currentPrice: "$14.50",
                  change24h: "+1.5%",
                  marketCap: "#12",
                  performance90d: "+25.4%",
                  riskLevel: "Medium",
                  riskColor: "yellow",
                  growthPotential: "30-45%",
                  allocation: "5-8%",
                  overview: "Leading oracle network connecting blockchains to real-world data",
                  keyMetrics: "Oracle market dominance, enterprise integrations",
                  marketOutlook: "Essential infrastructure for smart contracts",
                  strategy: "Infrastructure investment with steady growth",
                  catalysts: "Cross-chain expansion, enterprise partnerships"
                },
                {
                  rank: 8,
                  name: "Avalanche",
                  symbol: "AVAX",
                  currentPrice: "$36",
                  change24h: "+3.8%",
                  marketCap: "#11",
                  performance90d: "+28.6%",
                  riskLevel: "High",
                  riskColor: "red",
                  growthPotential: "40-65%",
                  allocation: "3-7%",
                  overview: "Fast consensus mechanism with growing DeFi ecosystem",
                  keyMetrics: "Fast finality, subnet technology",
                  marketOutlook: "Competing in Layer 1 scaling race",
                  strategy: "Growth bet on alternative Layer 1 adoption",
                  catalysts: "Subnet adoption, institutional partnerships"
                },
                {
                  rank: 9,
                  name: "XRP",
                  symbol: "XRP",
                  currentPrice: "$0.58",
                  change24h: "+1.2%",
                  marketCap: "#6",
                  performance90d: "+5.8%",
                  riskLevel: "High",
                  riskColor: "red",
                  growthPotential: "25-45%",
                  allocation: "3-5%",
                  overview: "Cross-border payment solution for financial institutions",
                  keyMetrics: "Bank partnerships, payment efficiency",
                  marketOutlook: "Awaiting regulatory clarity resolution",
                  strategy: "Speculative play on regulatory resolution",
                  catalysts: "SEC lawsuit resolution, bank adoption"
                },
                {
                  rank: 10,
                  name: "Dogecoin",
                  symbol: "DOGE",
                  currentPrice: "$0.09",
                  change24h: "+5.2%",
                  marketCap: "#9",
                  performance90d: "+32.1%",
                  riskLevel: "Very High",
                  riskColor: "red",
                  growthPotential: "50-100%",
                  allocation: "1-3%",
                  overview: "Meme cryptocurrency with strong community and celebrity backing",
                  keyMetrics: "High social media engagement, celebrity endorsements",
                  marketOutlook: "Volatile but strong community support",
                  strategy: "Small speculative position for potential viral growth",
                  catalysts: "Social media trends, celebrity endorsements, payment adoption"
                }
              ];
      }

      // Background loading for fresh data
      async function loadFreshDataInBackground() {
        try {
          const response = await fetch('/api/top10');
          const result = await response.json();
          
          if (result.success) {
            // Update cache
            cachedTop10Data = getFastCryptoData(); // Keep using fast data
            cacheTimestamp = Date.now();
          }
        } catch (error) {
          console.log('Background update failed, using cached data');
        }
      }

      // Display crypto data function
      function displayCryptoData(cryptoData, container) {
        const cryptoCards = cryptoData.map(crypto => `
              <div class="crypto-card">
                <div class="crypto-header">
                  <div class="crypto-rank">${crypto.rank}</div>
                  <div class="crypto-info">
                    <h4>${crypto.name} (${crypto.symbol})</h4>
                    <div class="crypto-price">
                      <span class="price">${crypto.currentPrice}</span>
                      <span class="change ${crypto.change24h.startsWith('+') ? 'positive' : 'negative'}">${crypto.change24h}</span>
                    </div>
                  </div>
                  <div class="market-cap">Rank ${crypto.marketCap}</div>
                </div>

                <div class="crypto-metrics">
                  <div class="metric">
                    <span class="metric-label">90-Day Performance:</span>
                    <span class="metric-value ${crypto.performance90d.startsWith('+') ? 'positive' : 'negative'}">${crypto.performance90d}</span>
                  </div>
                  <div class="metric">
                    <span class="metric-label">Risk Level:</span>
                    <span class="risk-badge ${crypto.riskColor}">${crypto.riskLevel}</span>
                  </div>
                  <div class="metric">
                    <span class="metric-label">Growth Potential:</span>
                    <span class="metric-value">${crypto.growthPotential}</span>
                  </div>
                  <div class="metric">
                    <span class="metric-label">Recommended Allocation:</span>
                    <span class="metric-value">${crypto.allocation}</span>
                  </div>
                </div>

                <div class="crypto-analysis">
                  <div class="analysis-section">
                    <h5>üìä Overview</h5>
                    <p>${crypto.overview}</p>
                  </div>
                  <div class="analysis-section">
                    <h5>üîç Key Metrics</h5>
                    <p>${crypto.keyMetrics}</p>
                  </div>
                  <div class="analysis-section">
                    <h5>üìà Market Outlook</h5>
                    <p>${crypto.marketOutlook}</p>
                  </div>
                  <div class="analysis-section">
                    <h5>üí° Investment Strategy</h5>
                    <p>${crypto.strategy}</p>
                  </div>
                  <div class="analysis-section">
                    <h5>üöÄ Key Catalysts</h5>
                    <p>${crypto.catalysts}</p>
                  </div>
                </div>
              </div>
            `).join('');

        container.innerHTML = `
          <div class="crypto-grid">
            ${cryptoCards}
          </div>
          <div class="disclaimer">
            <p>‚ö†Ô∏è <strong>Investment Disclaimer:</strong> This analysis is for educational purposes only. Cryptocurrency investments carry high risk and market volatility. Always do your own research and consult with financial advisors before making investment decisions. Only invest what you can afford to lose.</p>
          </div>
        `;
      }

      function displayFallbackStrategies(container) {
        const strategies = [
          {
            number: 1,
            title: "Dollar-Cost Averaging (DCA) into Bitcoin",
            successRate: "High",
            riskLevel: "Low",
            strategy: "Regularly invest a fixed amount into Bitcoin regardless of price fluctuations",
            expectedReturn: "20-50% annually",
            timeframe: "Long-term",
            riskClass: "risk-low"
          },
          {
            number: 2,
            title: "Ethereum Staking Strategy",
            successRate: "High",
            riskLevel: "Medium",
            strategy: "Stake ETH for 4-6% annual rewards plus price appreciation",
            expectedReturn: "15-35% annually",
            timeframe: "Medium-term",
            riskClass: "risk-medium"
          },
          {
            number: 3,
            title: "Diversified Large-Cap Portfolio",
            successRate: "High",
            riskLevel: "Medium",
            strategy: "40% BTC, 30% ETH, 30% top 10 altcoins for balanced exposure",
            expectedReturn: "25-45% annually",
            timeframe: "Medium-term",
            riskClass: "risk-medium"
          },
          {
            number: 4,
            title: "DeFi Yield Farming",
            successRate: "Medium",
            riskLevel: "High",
            strategy: "Provide liquidity to earn trading fees and rewards in DeFi protocols",
            expectedReturn: "30-80% annually",
            timeframe: "Short-term",
            riskClass: "risk-high"
          },
          {
            number: 5,
            title: "Layer 1 Blockchain Accumulation",
            successRate: "Medium",
            riskLevel: "High",
            strategy: "Focus on SOL, AVAX, ADA, DOT for next-gen blockchain adoption",
            expectedReturn: "35-70% annually",
            timeframe: "Medium-term",
            riskClass: "risk-high"
          },
          {
            number: 6,
            title: "AI & Gaming Token Strategy",
            successRate: "Medium",
            riskLevel: "High",
            strategy: "Emerging sectors with high growth potential and real-world utility",
            expectedReturn: "40-120% annually",
            timeframe: "Short-term",
            riskClass: "risk-high"
          },
          {
            number: 7,
            title: "Swing Trading Momentum",
            successRate: "Low",
            riskLevel: "Very High",
            strategy: "Trade 2-4 week price cycles using technical analysis signals",
            expectedReturn: "20-60% monthly",
            timeframe: "Short-term",
            riskClass: "risk-very-high"
          },
          {
            number: 8,
            title: "Altcoin Season Rotation",
            successRate: "Medium",
            riskLevel: "High",
            strategy: "Rotate between sectors based on market cycles and narratives",
            expectedReturn: "30-90% annually",
            timeframe: "Medium-term",
            riskClass: "risk-high"
          },
          {
            number: 9,
            title: "Meme Coin Speculation (5% Portfolio)",
            successRate: "Low",
            riskLevel: "Extreme",
            strategy: "Small allocation to viral/trending meme coins for lottery tickets",
            expectedReturn: "500-2000% or -90%",
            timeframe: "Short-term",
            riskClass: "risk-very-high"
          },
          {
            number: 10,
            title: "Institutional Following Strategy",
            successRate: "High",
            riskLevel: "Low",
            strategy: "Mirror institutional crypto purchases and ETF flows for stability",
            expectedReturn: "18-35% annually",
            timeframe: "Long-term",
            riskClass: "risk-low"
          }
        ];

        // Clear container and add each strategy in its own separate container
        container.innerHTML = '';

        strategies.forEach(strategy => {
          const strategyContainer = document.createElement('div');
          strategyContainer.className = `individual-strategy-container ${strategy.riskClass}`;

          strategyContainer.innerHTML = `
            <div class="strategy-number-circle">${strategy.number}</div>
            <div class="strategy-content-dark">
              <h3 class="strategy-title-dark">${strategy.title}</h3>

              <div class="strategy-metrics-dark">
                <div class="metric-badge-dark success">
                  üìä Success Rate: ${strategy.successRate}
                </div>
                <div class="metric-badge-dark risk">
                  üéØ Risk Level: ${strategy.riskLevel}
                </div>
              </div>

              <div class="strategy-description-dark">
                üí° <strong>Strategy:</strong> ${strategy.strategy}
              </div>

              <div class="strategy-footer-dark">
                <div class="footer-metric-dark">
                  üìà Expected Return: <strong>${strategy.expectedReturn}</strong>
                </div>
                <div class="footer-metric-dark">
                  ‚è∞ Time: <strong>${strategy.timeframe}</strong>
                </div>
              </div>
            </div>
          `;

          container.appendChild(strategyContainer);
        });

        // Add disclaimer as separate container
        const disclaimerContainer = document.createElement('div');
        disclaimerContainer.className = 'disclaimer-container';
        disclaimerContainer.innerHTML = `
          <strong>‚ö†Ô∏è DISCLAIMER:</strong> These strategies are for educational purposes only. Cryptocurrency investments carry high risk. Always do your own research and never invest more than you can afford to lose.
        `;
        container.appendChild(disclaimerContainer);
      }

      // Customize button functionality
      document.getElementById('customize-btn').addEventListener('click', function() {
        const form = document.getElementById('customization-form');
        if (form.style.display === 'none') {
          form.style.display = 'block';
        } else {
          form.style.display = 'none';
        }
      });

      // Cancel customization
      document.getElementById('cancel-customization').addEventListener('click', function() {
        document.getElementById('customization-form').style.display = 'none';
      });

      // Apply customization
      document.getElementById('apply-customization').addEventListener('click', async function() {
        const riskTolerance = document.getElementById('risk-tolerance').value;
        const investmentAmount = document.getElementById('investment-amount').value;
        const timeHorizon = document.getElementById('time-horizon').value;
        const experience = document.getElementById('experience').value;

        if (!riskTolerance || !investmentAmount || !timeHorizon || !experience) {
          alert('Please fill in all fields before applying customization.');
          return;
        }

        const resultContainer = document.getElementById('result-container');

        // Show loading state
        resultContainer.innerHTML = `
          <div class="loading">
            <div class="spinner"></div>
            <p>Generating Customized Top 10 Rankings...</p>
          </div>
        `;

        try {
          const response = await fetch('/api/analyze', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              riskTolerance,
              investmentAmount,
              timeHorizon,
              experience
            }),
          });

          const result = await response.json();

          if (result.success) {
            resultContainer.innerHTML = `
              <div class="result-card">
                <div class="analysis-content">
                  ${result.analysis.replace(/\n/g, '<br>')}
                </div>
              </div>
            `;
          } else {
            displayCustomizedFallback(resultContainer, riskTolerance);
          }

          // Hide the form after applying
          document.getElementById('customization-form').style.display = 'none';

        } catch (error) {
          console.error('Failed to get customized rankings:', error);
          displayCustomizedFallback(resultContainer, riskTolerance);
          document.getElementById('customization-form').style.display = 'none';
        }
      });

      function displayCustomizedFallback(container, riskTolerance) {
        const isAggressive = riskTolerance === 'aggressive';
        const isConservative = riskTolerance === 'conservative';

        container.innerHTML = `
          <div class="result-card">
            <div class="analysis-content">
              <strong>üìä Top 10 ${riskTolerance.charAt(0).toUpperCase() + riskTolerance.slice(1)} Investment Rankings:</strong><br><br>

              <strong>1. ${isConservative ? 'Bitcoin (BTC) - $43,250' : isAggressive ? 'Solana (SOL) - $98.50' : 'Bitcoin (BTC) - $43,250'}</strong><br>
              üìä 90-Day Performance: ${isConservative ? '+12.5%' : isAggressive ? '+25.8%' : '+12.5%'}<br>
              üéØ Investment Score: ${isConservative ? '9/10' : isAggressive ? '8/10' : '9/10'}<br>
              üí° Why Now: ${isConservative ? 'Stable store of value with institutional backing' : isAggressive ? 'High-performance blockchain with explosive growth potential' : 'Strong institutional adoption with ETF approvals'}<br>
              üìà Target: ${isConservative ? '$50,000' : isAggressive ? '$150' : '$50,000'} | ‚ö†Ô∏è Risk: ${isConservative ? 'Low' : isAggressive ? 'High' : 'Medium'}<br><br>

              <strong>2. ${isConservative ? 'Ethereum (ETH) - $2,650' : isAggressive ? 'Avalanche (AVAX) - $36.75' : 'Ethereum (ETH) - $2,650'}</strong><br>
              üìä 90-Day Performance: ${isConservative ? '+18.2%' : isAggressive ? '+22.1%' : '+18.2%'}<br>
              üéØ Investment Score: ${isConservative ? '8/10' : isAggressive ? '8/10' : '9/10'}<br>
              üí° Why Now: ${isConservative ? 'Established smart contract platform' : isAggressive ? 'Fast consensus with subnet innovation' : 'Leading DeFi ecosystem'}<br>
              üìà Target: ${isConservative ? '$3,000' : isAggressive ? '$60' : '$3,200'} | ‚ö†Ô∏è Risk: ${isConservative ? 'Medium' : isAggressive ? 'High' : 'Medium'}<br><br>

              <strong>3. ${isConservative ? 'Cardano (ADA) - $0.48' : isAggressive ? 'Polygon (MATIC) - $0.85' : 'Solana (SOL) - $98.50'}</strong><br>
              üìä 90-Day Performance: ${isConservative ? '+8.2%' : isAggressive ? '+19.5%' : '+25.8%'}<br>
              üéØ Investment Score: ${isConservative ? '7/10' : isAggressive ? '7/10' : '8/10'}<br>
              üí° Why Now: ${isConservative ? 'Academic approach to blockchain' : isAggressive ? 'Layer 2 scaling with major partnerships' : 'High-performance blockchain'}<br>
              üìà Target: ${isConservative ? '$0.60' : isAggressive ? '$1.50' : '$120'} | ‚ö†Ô∏è Risk: ${isConservative ? 'Medium' : isAggressive ? 'High' : 'Medium'}<br><br>

              <strong>4. ${isConservative ? 'Chainlink (LINK) - $14.60' : isAggressive ? 'Chainlink (LINK) - $14.60' : 'Avalanche (AVAX) - $36.75'}</strong><br>
              üìä 90-Day Performance: +15.9%<br>
              üéØ Investment Score: 7/10<br>
              üí° Why Now: Leading oracle network with real-world integrations<br>
              üìà Target: $18 | ‚ö†Ô∏è Risk: Medium<br><br>

              <strong>5. ${isConservative ? 'Polkadot (DOT) - $7.20' : isAggressive ? 'NEAR Protocol (NEAR) - $3.45' : 'Chainlink (LINK) - $14.60'}</strong><br>
              üìä 90-Day Performance: ${isConservative ? '+11.8%' : isAggressive ? '+16.7%' : '+15.9%'}<br>
              üéØ Investment Score: ${isConservative ? '6/10' : isAggressive ? '6/10' : '7/10'}<br>
              üí° Why Now: ${isConservative ? 'Interoperability solution' : isAggressive ? 'User-friendly with high growth potential' : 'Oracle network leader'}<br>
              üìà Target: ${isConservative ? '$9.50' : isAggressive ? '$6.00' : '$18'} | ‚ö†Ô∏è Risk: ${isConservative ? 'Medium' : isAggressive ? 'High' : 'Medium'}<br><br>

              <strong>6-10. Additional rankings based on ${riskTolerance} strategy...</strong><br><br>

              <strong>‚ö†Ô∏è DISCLAIMER:</strong> This analysis is customized for your ${riskTolerance} risk profile. Cryptocurrency investments carry high risk. Always do your own research and never invest more than you can afford to lose.
            </div>
          </div>
        `;
      }
    </script>
  </body>
</html>